<html>
<head>
    <title>Marginalia Options</title>
    <link href='http://fonts.googleapis.com/css?family=Molengo&subset=latin' rel='stylesheet' type='text/css'>
    <style type="text/css">
        body {
            font-family: 'Molengo', arial, serif;
            text-align: center;
        }
    </style>
</head>
<script type="text/javascript">

    // Saves options to localStorage.
    function save_options() {
        var options = {};
        options["tableName"] = document.getElementById("tableName").value;
        options["urlRowName"] = document.getElementById("urlRowName").value;
        options["captionRowName"] = document.getElementById("captionRowName").value;
        options["textRowName"] = document.getElementById("textRowName").value;
        localStorage.setItem("options", JSON.stringify(options));

        // Update status to let user know options were saved.
        var status = document.getElementById("status");
        status.innerHTML = "Options Saved.";
        setTimeout(function() {
            status.innerHTML = "";
        }, 1250);
    }

    // Restores select box state to saved value from localStorage. Here is used value of first// account in a list
    function restore_options() {
        var options = JSON.parse(localStorage.getItem("options"));
        document.getElementById("tableName").value = options["tableName"] || '';
        document.getElementById("urlRowName").value = options["urlRowName"] || '';
        document.getElementById("captionRowName").value = options["captionRowName"] || '';
        document.getElementById("textRowName").value = options["textRowName"] || '';
    }
</script>

<body onload="restore_options()">
<table align="center">
    <tr>
        <td>
            <label for="tableName">Table name:</label>
        </td>
        <td>
            <input type="text" name="tableName" id="tableName">
        </td>
    </tr>

    <tr>
        <td>
            <label for="urlRowName">URL column name:</label>
        </td>
        <td>
            <input type="text" name="urlRowName" id="urlRowName">
        </td>
    </tr>

    <tr>
        <td>
            <label for="captionRowName">Caption column name:</label>
        </td>
        <td>
            <input type="text" name="captionRowName" id="captionRowName">
        </td>
    </tr>

    <tr>
        <td>
            <label for="textRowName">Text column name:</label>
        </td>
        <td>
            <input type="text" name="textRowName" id="textRowName">
        </td>
    </tr>

</table>

<div id="status"></div>

<br>


<button onclick="save_options()">Save</button>
</body>
</html>